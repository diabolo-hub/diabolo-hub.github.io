<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>diabolo随笔</title>
  
  <subtitle>记录点点滴滴</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2022-10-05T18:25:03.942Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>diabolo</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>parallels desktop与mac文件夹共享</title>
    <link href="http://yoursite.com/2022/10/06/mac-2021006-parallels-desktop%E4%B8%8Emac%E6%96%87%E4%BB%B6%E5%A4%B9%E5%85%B1%E4%BA%AB/"/>
    <id>http://yoursite.com/2022/10/06/mac-2021006-parallels-desktop与mac文件夹共享/</id>
    <published>2022-10-05T16:00:00.000Z</published>
    <updated>2022-10-05T18:25:03.942Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/APlayer.min.js"> </script><h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><ol><li>parallels desktop 18</li><li>windows11</li><li>mac Monterey m1 12.3</li></ol><h1 id="进入设置"><a href="#进入设置" class="headerlink" title="进入设置"></a>进入设置</h1><ol><li>启动parallels desktop</li><li>点击windows窗口右上角的设置</li><li>选择”选项”-&gt; “共享”</li><li>右侧分别为” 共享 mac” 和 “共享 windows”</li></ol><h1 id="windows访问mac文件夹内容"><a href="#windows访问mac文件夹内容" class="headerlink" title="windows访问mac文件夹内容"></a>windows访问mac文件夹内容</h1><ol><li>选择 “共享mac”</li><li>将此页面需要 从windows访问mac的哪些文件夹，就把哪些文件夹配置在该共享设置中<br>因为都是自己电脑，基本上全配置即可，root文件夹尽量不要配置</li></ol><h1 id="mac访问windows文件夹内容"><a href="#mac访问windows文件夹内容" class="headerlink" title="mac访问windows文件夹内容"></a>mac访问windows文件夹内容</h1><ol><li>选择 “共享 windows”</li><li>此页配置简单，勾选 “从 mac 访问 windows 文件夹”即可<blockquote><p>此处有提示： 当”windows 11”运行时，可依次转到 mac 电脑的 “finder 边栏” &gt; “网络” &gt; “windows 11”，<br>查看与 mac 共享的 windows 驱动器。</p></blockquote></li><li>打开高级设置，勾选 “从 mac 共享 网络驱动器” 和 “与 mac 共享 windows 连接的驱动器”</li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;/assets/js/APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;h1 id=&quot;背景&quot;&gt;&lt;a href=&quot;#背景&quot; class=&quot;headerlink&quot; title=&quot;背景&quot;&gt;&lt;/a&gt;背景&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;parallels desk
      
    
    </summary>
    
      <category term="mac" scheme="http://yoursite.com/categories/mac/"/>
    
      <category term="parallels desktop" scheme="http://yoursite.com/categories/mac/parallels-desktop/"/>
    
    
      <category term="mac" scheme="http://yoursite.com/tags/mac/"/>
    
  </entry>
  
  <entry>
    <title>Parallels Desktop 18 for Mac破解版win11安装</title>
    <link href="http://yoursite.com/2022/10/06/mac-20221006-Parallels-Desktop-18-for-Mac%E7%A0%B4%E8%A7%A3%E7%89%88win11%E5%AE%89%E8%A3%85/"/>
    <id>http://yoursite.com/2022/10/06/mac-20221006-Parallels-Desktop-18-for-Mac破解版win11安装/</id>
    <published>2022-10-05T16:00:00.000Z</published>
    <updated>2022-10-05T18:25:03.936Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/APlayer.min.js"> </script><p><a href="https://qiujunya.com/article/2022/9/12/248.html" target="_blank" rel="noopener">Parallels Desktop 18 for Mac破解版下载（已更新至v18.0.2版本）</a></p><h1 id="下载并安装-parallels-desktop-18"><a href="#下载并安装-parallels-desktop-18" class="headerlink" title="下载并安装 parallels desktop 18"></a>下载并安装 parallels desktop 18</h1><h1 id="安装步骤"><a href="#安装步骤" class="headerlink" title="安装步骤"></a>安装步骤</h1><ol><li>先安装包内的pd18</li><li>退出parallels账户</li><li>打开终端terminal，进入到ParallelsDesktopCrack这个文件夹（不会的可以把文件夹复制到桌面，然后在终端输入cd加空格，然后把文件夹拖到终端）</li><li>运行：chmod +x ./install.sh &amp;&amp; sudo ./install.sh 即可破解</li></ol><h1 id="parallels-desktop破解脚本执行过程"><a href="#parallels-desktop破解脚本执行过程" class="headerlink" title="parallels desktop破解脚本执行过程"></a>parallels desktop破解脚本执行过程</h1><p>Last login: Wed Oct  5 21:09:14 on ttys002<br>➜  parallelsdesktopcrack chmod +x ./install.sh &amp;&amp; sudo ./install.sh<br>Password:<br>[<em>] Exit Parallels Desktop<br>[</em>] Start Parallels Service<br>[<em>] Exit Parallels Desktop account …<br>The user has signed out successfully.<br>[</em>] Disable CEP …<br>[<em>] Stop Parallels Service<br>[</em>] Copy prl_disp_service<br>[<em>] Sign prl_disp_service<br>/Applications/Parallels Desktop.app/Contents/MacOS/Parallels Service.app/Contents/MacOS/prl_disp_service: replacing existing signature<br>[</em>] Copy fake licenses.json<br>[*] Crack over</p><h1 id="如下域名添加进hosts"><a href="#如下域名添加进hosts" class="headerlink" title="如下域名添加进hosts"></a>如下域名添加进hosts</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">download.parallels.com</span><br><span class="line">update.parallels.com</span><br><span class="line">desktop.parallels.com</span><br><span class="line">download.parallels.com.cdn.cloudflare.net</span><br><span class="line">update.parallels.com.cdn.cloudflare.net</span><br><span class="line">desktop.parallels.com.cdn.cloudflare.net</span><br><span class="line">www.parallels.cn</span><br><span class="line">www.parallels.com</span><br><span class="line">reportus.parallels.com</span><br><span class="line">parallels.com</span><br><span class="line">parallels.cn</span><br><span class="line">pax-manager.myparallels.com</span><br><span class="line">myparallels.com</span><br><span class="line">my.parallels.com</span><br></pre></td></tr></table></figure><h1 id="下载地址获取"><a href="#下载地址获取" class="headerlink" title="下载地址获取"></a>下载地址获取</h1><p>为防止被和谐，请移步微信公众号“龟仙人笔记”，回复”pd18”获取下载链接。另外本软件只提供交流学习用，请于下载后一周内删除。</p><h1 id="win10镜像获取-这些镜像都安装不成功，提示无操作镜像，通过parallels-desktop自身的win11下载安装可成功"><a href="#win10镜像获取-这些镜像都安装不成功，提示无操作镜像，通过parallels-desktop自身的win11下载安装可成功" class="headerlink" title="win10镜像获取(这些镜像都安装不成功，提示无操作镜像，通过parallels desktop自身的win11下载安装可成功)"></a>win10镜像获取(这些镜像都安装不成功，提示无操作镜像，通过parallels desktop自身的win11下载安装可成功)</h1><p><a href="https://msdn.itellyou.cn/" target="_blank" rel="noopener">msdn win镜像，需要判断arm 或 intel 镜像</a><br><a href="https://www.bilibili.com/read/cv13737213" target="_blank" rel="noopener">arm版win10，win11下载镜像</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">本文的arm版win10、win11是指的M1电脑系统安装Windows系统的，Intel版本的Mac电脑可以绕过。</span><br><span class="line"></span><br><span class="line">下面链接为迅雷链接，复制到迅雷下载</span><br><span class="line"></span><br><span class="line">Windows 10arm版：</span><br><span class="line"></span><br><span class="line">发布时间：2021-02-18</span><br><span class="line"></span><br><span class="line">版本号：Windows 10, version 20H2 (updated Feb 2021) (ARM64) - DVD (Chinese-Simplified)</span><br><span class="line"></span><br><span class="line">迅雷下载链接：ed2k:&#x2F;&#x2F;|file|SW_DVD9_Win_Pro_10_20H2.4_64ARM_ChnSimp_Pro_Ent_EDU_N_MLF_X22-52787.ISO|6555498496|731744E58C549CA20AC80AC5E6AC6830|&#x2F;</span><br><span class="line"></span><br><span class="line">Windows 11arm版：预览版</span><br><span class="line"></span><br><span class="line">版本号：Windows 11 Insider Preview (Dev Channel) - Build 22454</span><br><span class="line"></span><br><span class="line">发布时间：2021-09-11</span><br><span class="line"></span><br><span class="line">迅雷下载链接：ed2k:&#x2F;&#x2F;|file|Windows11_InsiderPreview_Client_x64_zh-cn_22454.iso|4903213056|A4FD6D7058261FCB31D076BA727FAF77|&#x2F;</span><br><span class="line"></span><br><span class="line">Windows 11arm版：正式版</span><br><span class="line"></span><br><span class="line">Windows 11, version 21H2 (ARM64) - DVD (Chinese-Simplified)</span><br><span class="line"></span><br><span class="line">发布时间：2021-10-05</span><br><span class="line"></span><br><span class="line">迅雷下载链接：：ed2k:&#x2F;&#x2F;|file|SW_DVD9_Win_Pro_11_21H2_64ARM_ChnSimp_Pro_Ent_EDU_N_MLF_-2_X22-82731.ISO|5608900608|5D3A8B542CBAB917C7AE43BCD17AC28E|&#x2F;</span><br><span class="line"></span><br><span class="line">你要是嫌麻烦，网站有会员专享下载链接：</span><br><span class="line"></span><br><span class="line">网站会员高速下载链接：ARM版Win10系统&#x2F;win11系统 https:&#x2F;&#x2F;www.macz.com&#x2F;mac&#x2F;8164.html?id&#x3D;NzUxNzYwJl8mNjEuMTU5LjExLjY3 作者：Mac夏天 https:&#x2F;&#x2F;www.bilibili.com&#x2F;read&#x2F;cv13737213 出处：bilibili</span><br></pre></td></tr></table></figure></p><h1 id="问题处理（未验证是否可行）"><a href="#问题处理（未验证是否可行）" class="headerlink" title="问题处理（未验证是否可行）"></a>问题处理（未验证是否可行）</h1><p><a href="https://site.douban.com/306121/widget/notes/194498428/note/819413445/" target="_blank" rel="noopener">macz软件下载 Parallels Desktop 无法启动，无法连接至 Parallels服务，在该虚拟机中没有安装操作系统解决方法</a></p><h1 id="parallels-desktop-18-密钥"><a href="#parallels-desktop-18-密钥" class="headerlink" title="parallels desktop 18 密钥"></a>parallels desktop 18 密钥</h1><p><a href="http://www.oemos.cn/parallels-desktop-key.html" target="_blank" rel="noopener">parallels desktop激活密钥</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">密钥:6J9X72-HKE8YD-MXJWZ4-SGS44V-VTA8GM</span><br><span class="line"></span><br><span class="line">密钥:6J9XV2-48DWW7-DEGZHB-Y8M4DE-52WR78</span><br><span class="line"></span><br><span class="line">密钥:6J9HGK-Y49PA2-V83YM9-RX7TWE-PV4Y5Q</span><br><span class="line"></span><br><span class="line">6J9RHF-GHZ5S9-XMYRR5-7VYNGW-VZ3Q9C</span><br><span class="line">6J9M87-59HGRJ-SACJ7B-K9VENA-NRXVZB</span><br><span class="line">6J9C82-H9AA96-RGGHRP-9YRXPR-JDRASM</span><br><span class="line">6J9G4J-9QDHMF-92E2WP-WCQ6SX-ZXQ4BR</span><br><span class="line">6J9HVB-39295K-CJQ3NV-QAK2NQ-PPJ2J7</span><br><span class="line">6J9EAA-PXRMS7-SNPJSJ-TFH9QZ-4ARHMR</span><br><span class="line">6J9PM3-TZ6G5S-5D7BVV-AWV99H-XTFDVY</span><br><span class="line">6J99WR-YWKYPH-K82YP8-99WDZH-YKBZCT</span><br><span class="line">6J93Q5-MFSDQ8-7S427R-9VK7PR-WEZ2HS</span><br><span class="line">6J9W68-4H93VA-25QWTW-6M998N-ZWHW7X</span><br><span class="line">6J9C7V-2MD3H3-M929QE-H9BS97-4FH7HE</span><br></pre></td></tr></table></figure></p><h1 id="解决parallels-desktop-18中win11无法连接wifi"><a href="#解决parallels-desktop-18中win11无法连接wifi" class="headerlink" title="解决parallels desktop 18中win11无法连接wifi"></a>解决parallels desktop 18中win11无法连接wifi</h1><p><a href="https://blog.51cto.com/u_14013325/4929737" target="_blank" rel="noopener">Parallels Desktop 16 Win11虚拟机将继续正常运作，但将无法连接网络</a></p><p>每次需要以此种命令运行parallels desktop:  sudo -b /Applications/Parallels\ Desktop.app/Contents/MacOS/prl_client_app</p><p>回车后会提示输入密码，输入Mac系统密码然后按回车，这里输入密码不会显示，输完直接按回车即可。然后在弹出窗口按提示打开所有权限，如果出现安装Windows的界面，点击左下角的“打开”，在“ 用户名 - 文稿 - parallels ”目录下面找到你原来的Windows系统打开，就可以解决Parallels Desktop 16不能联网的问题了</p><blockquote><p>一定不能重新下载安装win11，只需要左下角打开已经安装过的win11</p></blockquote><h1 id="安装路径"><a href="#安装路径" class="headerlink" title="安装路径"></a>安装路径</h1><p>普通安装： /users/diabolo/parallels/<br>执行sudo -b /Applications/../..app 后： /var/root/Paralles/</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;/assets/js/APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;p&gt;&lt;a href=&quot;https://qiujunya.com/article/2022/9/12/248.html&quot; target=&quot;_blank&quot; rel=&quot;noopener
      
    
    </summary>
    
      <category term="mac" scheme="http://yoursite.com/categories/mac/"/>
    
      <category term="parallels desktop" scheme="http://yoursite.com/categories/mac/parallels-desktop/"/>
    
    
      <category term="mac" scheme="http://yoursite.com/tags/mac/"/>
    
  </entry>
  
  <entry>
    <title>registry自定义发布的端口</title>
    <link href="http://yoursite.com/2022/09/29/depth-docker-docker-registry-20220929-registry%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%91%E5%B8%83%E7%9A%84%E7%AB%AF%E5%8F%A3/"/>
    <id>http://yoursite.com/2022/09/29/depth-docker-docker-registry-20220929-registry自定义发布的端口/</id>
    <published>2022-09-28T16:00:00.000Z</published>
    <updated>2022-09-29T06:26:48.244Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/APlayer.min.js"> </script><h1 id="registry自定义发布的端口"><a href="#registry自定义发布的端口" class="headerlink" title="registry自定义发布的端口"></a>registry自定义发布的端口</h1><ol><li>如果您已经在使用端口 5000，或者您想要运行多个本地注册表来分隔关注区域，您可以自定义注册表的端口设置。此示例在端口 5001 上运行注册表并将其命名为 registry-test。请记住，-p值的第一部分是主机端口，第二部分是容器内的端口。在容器内，注册表5000默认侦听端口。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker run -d \</span><br><span class="line">     -p 5001:5000 \</span><br><span class="line">     --name registry-test \</span><br><span class="line">     registry:2</span><br></pre></td></tr></table></figure></li><li>如果要更改容器内注册表监听的端口，可以使用环境变量REGISTRY_HTTP_ADDR来更改它。此命令使注册表在容器内的端口 5001 上进行侦听：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker run -d \</span><br><span class="line">     -e REGISTRY_HTTP_ADDR&#x3D;0.0.0.0:5001 \</span><br><span class="line">     -p 5001:5001 \</span><br><span class="line">     --name registry-test \</span><br><span class="line">     registry:2</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;/assets/js/APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;h1 id=&quot;registry自定义发布的端口&quot;&gt;&lt;a href=&quot;#registry自定义发布的端口&quot; class=&quot;headerlink&quot; title=&quot;registry自定
      
    
    </summary>
    
      <category term="depth" scheme="http://yoursite.com/categories/depth/"/>
    
      <category term="docker" scheme="http://yoursite.com/categories/depth/docker/"/>
    
      <category term="docker registry" scheme="http://yoursite.com/categories/depth/docker/docker-registry/"/>
    
    
      <category term="docker-registry" scheme="http://yoursite.com/tags/docker-registry/"/>
    
  </entry>
  
  <entry>
    <title>推送至本地仓库</title>
    <link href="http://yoursite.com/2022/09/29/depth-docker-docker-registry-20220929-%E6%8E%A8%E9%80%81%E6%9C%AC%E5%9C%B0%E4%BB%93%E5%BA%93/"/>
    <id>http://yoursite.com/2022/09/29/depth-docker-docker-registry-20220929-推送本地仓库/</id>
    <published>2022-09-28T16:00:00.000Z</published>
    <updated>2022-09-29T06:52:26.969Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/APlayer.min.js"> </script><h1 id="推送至本地仓库，若不指定my-ubuntu版本，则默认上传-latest"><a href="#推送至本地仓库，若不指定my-ubuntu版本，则默认上传-latest" class="headerlink" title="推送至本地仓库，若不指定my-ubuntu版本，则默认上传 latest"></a>推送至本地仓库，若不指定my-ubuntu版本，则默认上传 latest</h1><ol><li>将图像标记为localhost:5000/my-ubuntu. 这会为现有图像创建一个附加标签。当标签的第一部分是主机名和端口时，Docker 在推送时将其解释为注册表的位置。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker tag ubuntu:16.04 localhost:5000&#x2F;my-ubuntu:16.04</span><br></pre></td></tr></table></figure></li><li>将映像推送到运行在以下位置的本地注册表localhost:5000：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker push localhost:5000&#x2F;my-ubuntu:16.04</span><br></pre></td></tr></table></figure></li><li>删除本地缓存ubuntu:16.04和localhost:5000/my-ubuntu 图像，以便您可以测试从注册表中提取图像。这不会localhost:5000/my-ubuntu从您的注册表中删除图像。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker image remove ubuntu:16.04</span><br><span class="line">docker image remove localhost:5000&#x2F;my-ubuntu</span><br><span class="line">或推送指定版本：</span><br><span class="line">docker image remove localhost:5000&#x2F;my-ubuntu:16.04</span><br></pre></td></tr></table></figure></li><li>localhost:5000/my-ubuntu从本地注册表中提取图像。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull localhost:5000&#x2F;my-ubuntu</span><br></pre></td></tr></table></figure></li></ol><h1 id="案例-myhexo-容器"><a href="#案例-myhexo-容器" class="headerlink" title="案例 myhexo 容器"></a>案例 myhexo 容器</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">➜  wk-github-zdy docker images</span><br><span class="line">REPOSITORY            TAG            IMAGE ID       CREATED         SIZE</span><br><span class="line">myhexo                1.0            fcb95862615f   3 days ago      195MB</span><br><span class="line">redis                 latest         9fb1c428ea15   6 days ago      111MB</span><br><span class="line">oraclelinux           9              73ce309b1736   7 weeks ago     242MB</span><br><span class="line">registry              latest         4206ae70dd03   7 weeks ago     22.6MB</span><br><span class="line">mysql                 8.0            d56063370fd1   8 weeks ago     490MB</span><br><span class="line">mongo                 latest         8522acba0ea1   8 weeks ago     667MB</span><br><span class="line">elasticsearch         8.3.3          a21975dcd56a   2 months ago    657MB</span><br><span class="line">mongo-express         latest         ce615669da5e   11 months ago   136MB</span><br><span class="line">loululin&#x2F;dmanywhere   0.8.4-alpine   f346f25c02ec   2 years ago     37.3MB</span><br><span class="line">➜  wk-github-zdy docker tag myhexo:1.0 localhost:5001&#x2F;my-hexo</span><br><span class="line">➜  wk-github-zdy docker images</span><br><span class="line">REPOSITORY               TAG            IMAGE ID       CREATED         SIZE</span><br><span class="line">localhost:5001&#x2F;my-hexo   latest         fcb95862615f   3 days ago      195MB</span><br><span class="line">myhexo                   1.0            fcb95862615f   3 days ago      195MB</span><br><span class="line">redis                    latest         9fb1c428ea15   6 days ago      111MB</span><br><span class="line">oraclelinux              9              73ce309b1736   7 weeks ago     242MB</span><br><span class="line">registry                 latest         4206ae70dd03   7 weeks ago     22.6MB</span><br><span class="line">mysql                    8.0            d56063370fd1   8 weeks ago     490MB</span><br><span class="line">mongo                    latest         8522acba0ea1   8 weeks ago     667MB</span><br><span class="line">elasticsearch            8.3.3          a21975dcd56a   2 months ago    657MB</span><br><span class="line">mongo-express            latest         ce615669da5e   11 months ago   136MB</span><br><span class="line">loululin&#x2F;dmanywhere      0.8.4-alpine   f346f25c02ec   2 years ago     37.3MB</span><br><span class="line">➜  wk-github-zdy docker push localhost:5001&#x2F;my-hexo</span><br><span class="line">Using default tag: latest</span><br><span class="line">The push refers to repository [localhost:5001&#x2F;my-hexo]</span><br><span class="line">9d65187790aa: Pushed</span><br><span class="line">2cb39a2a325b: Pushed</span><br><span class="line">d3d59b289b09: Pushed</span><br><span class="line">2b49ce1e2b9c: Pushed</span><br><span class="line">958c20e8729d: Pushed</span><br><span class="line">089589b87ea4: Pushed</span><br><span class="line">9957769b57f7: Pushed</span><br><span class="line">6163139c6d2b: Pushed</span><br><span class="line">e7d566ca3222: Pushed</span><br><span class="line">7cce60e85825: Pushed</span><br><span class="line">9833f26c6bda: Pushed</span><br><span class="line">latest: digest: sha256:9747a0b5918c78739900d1f0a6db6883bb963859e7f842ed3ef7d933839ed6c0 size: 2610</span><br></pre></td></tr></table></figure><h1 id="若没配置-tag-提示权限不足"><a href="#若没配置-tag-提示权限不足" class="headerlink" title="若没配置 tag ,提示权限不足"></a>若没配置 tag ,提示权限不足</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">➜  wk-github-zdy docker push registry</span><br><span class="line">Using default tag: latest</span><br><span class="line">The push refers to repository [docker.io&#x2F;library&#x2F;registry]</span><br><span class="line">7096a4058a34: Layer already exists</span><br><span class="line">98a9ffbe5dec: Layer already exists</span><br><span class="line">3b937836dc53: Layer already exists</span><br><span class="line">bfaf09ad3403: Layer already exists</span><br><span class="line">5d3e392a13a0: Layer already exists</span><br><span class="line">errors:</span><br><span class="line">denied: requested access to the resource is denied</span><br><span class="line">unauthorized: authentication required</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;/assets/js/APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;h1 id=&quot;推送至本地仓库，若不指定my-ubuntu版本，则默认上传-latest&quot;&gt;&lt;a href=&quot;#推送至本地仓库，若不指定my-ubuntu版本，则默认上传-late
      
    
    </summary>
    
      <category term="depth" scheme="http://yoursite.com/categories/depth/"/>
    
      <category term="docker" scheme="http://yoursite.com/categories/depth/docker/"/>
    
      <category term="docker registry" scheme="http://yoursite.com/categories/depth/docker/docker-registry/"/>
    
    
      <category term="docker-registry" scheme="http://yoursite.com/tags/docker-registry/"/>
    
  </entry>
  
  <entry>
    <title>本地registry仓库搭建</title>
    <link href="http://yoursite.com/2022/09/29/depth-docker-docker-registry-20220929-%E6%9C%AC%E5%9C%B0registry%E4%BB%93%E5%BA%93%E6%90%AD%E5%BB%BA/"/>
    <id>http://yoursite.com/2022/09/29/depth-docker-docker-registry-20220929-本地registry仓库搭建/</id>
    <published>2022-09-28T16:00:00.000Z</published>
    <updated>2022-09-29T06:50:19.190Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/APlayer.min.js"> </script><hr><ul><li><strong>Docker registry: <a href="https://docs.docker.com/registry/" target="_blank" rel="noopener">https://docs.docker.com/registry/</a></strong></li></ul><hr><h1 id="搭建步骤"><a href="#搭建步骤" class="headerlink" title="搭建步骤"></a>搭建步骤</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker pull registry</span><br><span class="line">docker run -itd -v &#x2F;Users&#x2F;diabolo&#x2F;work&#x2F;workspace&#x2F;wk-docker&#x2F;docker-registry:&#x2F;var&#x2F;lib&#x2F;registry -p 5001:5000 --restart&#x3D;always --name myregistry registry:latest</span><br><span class="line"># registry容器内默认监听端口 5000</span><br><span class="line"># 或者通过修改环境变量，修改容器内监听端口来发布</span><br><span class="line">docker run -itd -e REGISTRY_HTTP_ADDR&#x3D;0.0.0.0:5001 -v &#x2F;Users&#x2F;diabolo&#x2F;work&#x2F;workspace&#x2F;wk-docker&#x2F;docker-registry:&#x2F;var&#x2F;lib&#x2F;registry -p 5001:5001 --restart&#x3D;always --name myregistry registry:latest</span><br></pre></td></tr></table></figure><blockquote><p>打开容器仓库地址: <a href="http://127.0.0.1:5001/v2/_catalog" target="_blank" rel="noopener">http://127.0.0.1:5001/v2/_catalog</a><br>列出my-hexo镜像有哪些tag: <a href="http://127.0.0.1:5001/v2/my-hexo/tags/list" target="_blank" rel="noopener">http://127.0.0.1:5001/v2/my-hexo/tags/list</a></p></blockquote><h2 id="参数说明"><a href="#参数说明" class="headerlink" title="参数说明"></a>参数说明</h2><p>-itd：在容器中打开一个伪终端进行交互操作，并在后台运行；<br>-v：把宿主机的/data/registry目录绑定 到 容器/var/lib/registry目录(这个目录是registry容器中存放镜像文件的目录)，来实现数据的持久化；<br>-p：映射端口；访问宿主机的5000端口就访问到registry容器的服务了；<br>–restart=always：这是重启的策略，假如这个容器异常退出会自动重启容器；<br>–name registry：创建容器命名为registry，你可以随便命名；<br>registry:latest：这个是刚才pull下来的镜像；</p><h1 id="停止registry"><a href="#停止registry" class="headerlink" title="停止registry"></a>停止registry</h1><ol><li>要停止注册表，请使用docker container stop与任何其他容器相同的命令。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker container stop registry</span><br></pre></td></tr></table></figure></li><li>要移除容器，请使用docker container rm.<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker container stop registry &amp;&amp; docker container rm -v registry</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;/assets/js/APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Docker registry: &lt;a href=&quot;https://docs.docker.com/registry/&quot; target=
      
    
    </summary>
    
      <category term="depth" scheme="http://yoursite.com/categories/depth/"/>
    
      <category term="docker" scheme="http://yoursite.com/categories/depth/docker/"/>
    
      <category term="docker registry" scheme="http://yoursite.com/categories/depth/docker/docker-registry/"/>
    
    
      <category term="docker-registry" scheme="http://yoursite.com/tags/docker-registry/"/>
    
  </entry>
  
  <entry>
    <title>通过配置文件启动registry</title>
    <link href="http://yoursite.com/2022/09/29/depth-docker-docker-registry-20220929-%E9%80%9A%E8%BF%87%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%90%AF%E5%8A%A8registry/"/>
    <id>http://yoursite.com/2022/09/29/depth-docker-docker-registry-20220929-通过配置文件启动registry/</id>
    <published>2022-09-28T16:00:00.000Z</published>
    <updated>2022-09-29T06:41:50.760Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/APlayer.min.js"> </script><hr><ul><li><strong>docker registry 配置注册表: <a href="https://docs.docker.com/registry/configuration/" target="_blank" rel="noopener">https://docs.docker.com/registry/configuration/</a></strong></li></ul><hr><h1 id="指定配置文件"><a href="#指定配置文件" class="headerlink" title="指定配置文件"></a>指定配置文件</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 5000:5000 --restart&#x3D;always --name registry \</span><br><span class="line">             -v &#96;pwd&#96;&#x2F;config.yml:&#x2F;etc&#x2F;docker&#x2F;registry&#x2F;config.yml \</span><br><span class="line">             registry:latest</span><br></pre></td></tr></table></figure><h2 id="配置文件案例"><a href="#配置文件案例" class="headerlink" title="配置文件案例"></a>配置文件案例</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br></pre></td><td class="code"><pre><span class="line">version: 0.1</span><br><span class="line">log:</span><br><span class="line">  accesslog:</span><br><span class="line">    disabled: true</span><br><span class="line">  level: debug</span><br><span class="line">  formatter: text</span><br><span class="line">  fields:</span><br><span class="line">    service: registry</span><br><span class="line">    environment: staging</span><br><span class="line">  hooks:</span><br><span class="line">    - type: mail</span><br><span class="line">      disabled: true</span><br><span class="line">      levels:</span><br><span class="line">        - panic</span><br><span class="line">      options:</span><br><span class="line">        smtp:</span><br><span class="line">          addr: mail.example.com:25</span><br><span class="line">          username: mailuser</span><br><span class="line">          password: password</span><br><span class="line">          insecure: true</span><br><span class="line">        from: sender@example.com</span><br><span class="line">        to:</span><br><span class="line">          - errors@example.com</span><br><span class="line">loglevel: debug # deprecated: use &quot;log&quot;</span><br><span class="line">storage:</span><br><span class="line">  filesystem:</span><br><span class="line">    rootdirectory: &#x2F;var&#x2F;lib&#x2F;registry</span><br><span class="line">    maxthreads: 100</span><br><span class="line">  azure:</span><br><span class="line">    accountname: accountname</span><br><span class="line">    accountkey: base64encodedaccountkey</span><br><span class="line">    container: containername</span><br><span class="line">  gcs:</span><br><span class="line">    bucket: bucketname</span><br><span class="line">    keyfile: &#x2F;path&#x2F;to&#x2F;keyfile</span><br><span class="line">    credentials:</span><br><span class="line">      type: service_account</span><br><span class="line">      project_id: project_id_string</span><br><span class="line">      private_key_id: private_key_id_string</span><br><span class="line">      private_key: private_key_string</span><br><span class="line">      client_email: client@example.com</span><br><span class="line">      client_id: client_id_string</span><br><span class="line">      auth_uri: http:&#x2F;&#x2F;example.com&#x2F;auth_uri</span><br><span class="line">      token_uri: http:&#x2F;&#x2F;example.com&#x2F;token_uri</span><br><span class="line">      auth_provider_x509_cert_url: http:&#x2F;&#x2F;example.com&#x2F;provider_cert_url</span><br><span class="line">      client_x509_cert_url: http:&#x2F;&#x2F;example.com&#x2F;client_cert_url</span><br><span class="line">    rootdirectory: &#x2F;gcs&#x2F;object&#x2F;name&#x2F;prefix</span><br><span class="line">    chunksize: 5242880</span><br><span class="line">  s3:</span><br><span class="line">    accesskey: awsaccesskey</span><br><span class="line">    secretkey: awssecretkey</span><br><span class="line">    region: us-west-1</span><br><span class="line">    regionendpoint: http:&#x2F;&#x2F;myobjects.local</span><br><span class="line">    bucket: bucketname</span><br><span class="line">    encrypt: true</span><br><span class="line">    keyid: mykeyid</span><br><span class="line">    secure: true</span><br><span class="line">    v4auth: true</span><br><span class="line">    chunksize: 5242880</span><br><span class="line">    multipartcopychunksize: 33554432</span><br><span class="line">    multipartcopymaxconcurrency: 100</span><br><span class="line">    multipartcopythresholdsize: 33554432</span><br><span class="line">    rootdirectory: &#x2F;s3&#x2F;object&#x2F;name&#x2F;prefix</span><br><span class="line">  swift:</span><br><span class="line">    username: username</span><br><span class="line">    password: password</span><br><span class="line">    authurl: https:&#x2F;&#x2F;storage.myprovider.com&#x2F;auth&#x2F;v1.0 or https:&#x2F;&#x2F;storage.myprovider.com&#x2F;v2.0 or https:&#x2F;&#x2F;storage.myprovider.com&#x2F;v3&#x2F;auth</span><br><span class="line">    tenant: tenantname</span><br><span class="line">    tenantid: tenantid</span><br><span class="line">    domain: domain name for Openstack Identity v3 API</span><br><span class="line">    domainid: domain id for Openstack Identity v3 API</span><br><span class="line">    insecureskipverify: true</span><br><span class="line">    region: fr</span><br><span class="line">    container: containername</span><br><span class="line">    rootdirectory: &#x2F;swift&#x2F;object&#x2F;name&#x2F;prefix</span><br><span class="line">  oss:</span><br><span class="line">    accesskeyid: accesskeyid</span><br><span class="line">    accesskeysecret: accesskeysecret</span><br><span class="line">    region: OSS region name</span><br><span class="line">    endpoint: optional endpoints</span><br><span class="line">    internal: optional internal endpoint</span><br><span class="line">    bucket: OSS bucket</span><br><span class="line">    encrypt: optional data encryption setting</span><br><span class="line">    secure: optional ssl setting</span><br><span class="line">    chunksize: optional size valye</span><br><span class="line">    rootdirectory: optional root directory</span><br><span class="line">  inmemory:  # This driver takes no parameters</span><br><span class="line">  delete:</span><br><span class="line">    enabled: false</span><br><span class="line">  redirect:</span><br><span class="line">    disable: false</span><br><span class="line">  cache:</span><br><span class="line">    blobdescriptor: redis</span><br><span class="line">  maintenance:</span><br><span class="line">    uploadpurging:</span><br><span class="line">      enabled: true</span><br><span class="line">      age: 168h</span><br><span class="line">      interval: 24h</span><br><span class="line">      dryrun: false</span><br><span class="line">    readonly:</span><br><span class="line">      enabled: false</span><br><span class="line">auth:</span><br><span class="line">  silly:</span><br><span class="line">    realm: silly-realm</span><br><span class="line">    service: silly-service</span><br><span class="line">  token:</span><br><span class="line">    autoredirect: true</span><br><span class="line">    realm: token-realm</span><br><span class="line">    service: token-service</span><br><span class="line">    issuer: registry-token-issuer</span><br><span class="line">    rootcertbundle: &#x2F;root&#x2F;certs&#x2F;bundle</span><br><span class="line">  htpasswd:</span><br><span class="line">    realm: basic-realm</span><br><span class="line">    path: &#x2F;path&#x2F;to&#x2F;htpasswd</span><br><span class="line">middleware:</span><br><span class="line">  registry:</span><br><span class="line">    - name: ARegistryMiddleware</span><br><span class="line">      options:</span><br><span class="line">        foo: bar</span><br><span class="line">  repository:</span><br><span class="line">    - name: ARepositoryMiddleware</span><br><span class="line">      options:</span><br><span class="line">        foo: bar</span><br><span class="line">  storage:</span><br><span class="line">    - name: cloudfront</span><br><span class="line">      options:</span><br><span class="line">        baseurl: https:&#x2F;&#x2F;my.cloudfronted.domain.com&#x2F;</span><br><span class="line">        privatekey: &#x2F;path&#x2F;to&#x2F;pem</span><br><span class="line">        keypairid: cloudfrontkeypairid</span><br><span class="line">        duration: 3000s</span><br><span class="line">        ipfilteredby: awsregion</span><br><span class="line">        awsregion: us-east-1, use-east-2</span><br><span class="line">        updatefrenquency: 12h</span><br><span class="line">        iprangesurl: https:&#x2F;&#x2F;ip-ranges.amazonaws.com&#x2F;ip-ranges.json</span><br><span class="line">  storage:</span><br><span class="line">    - name: redirect</span><br><span class="line">      options:</span><br><span class="line">        baseurl: https:&#x2F;&#x2F;example.com&#x2F;</span><br><span class="line">reporting:</span><br><span class="line">  bugsnag:</span><br><span class="line">    apikey: bugsnagapikey</span><br><span class="line">    releasestage: bugsnagreleasestage</span><br><span class="line">    endpoint: bugsnagendpoint</span><br><span class="line">  newrelic:</span><br><span class="line">    licensekey: newreliclicensekey</span><br><span class="line">    name: newrelicname</span><br><span class="line">    verbose: true</span><br><span class="line">http:</span><br><span class="line">  addr: localhost:5000</span><br><span class="line">  prefix: &#x2F;my&#x2F;nested&#x2F;registry&#x2F;</span><br><span class="line">  host: https:&#x2F;&#x2F;myregistryaddress.org:5000</span><br><span class="line">  secret: asecretforlocaldevelopment</span><br><span class="line">  relativeurls: false</span><br><span class="line">  draintimeout: 60s</span><br><span class="line">  tls:</span><br><span class="line">    certificate: &#x2F;path&#x2F;to&#x2F;x509&#x2F;public</span><br><span class="line">    key: &#x2F;path&#x2F;to&#x2F;x509&#x2F;private</span><br><span class="line">    clientcas:</span><br><span class="line">      - &#x2F;path&#x2F;to&#x2F;ca.pem</span><br><span class="line">      - &#x2F;path&#x2F;to&#x2F;another&#x2F;ca.pem</span><br><span class="line">    letsencrypt:</span><br><span class="line">      cachefile: &#x2F;path&#x2F;to&#x2F;cache-file</span><br><span class="line">      email: emailused@letsencrypt.com</span><br><span class="line">      hosts: [myregistryaddress.org]</span><br><span class="line">  debug:</span><br><span class="line">    addr: localhost:5001</span><br><span class="line">    prometheus:</span><br><span class="line">      enabled: true</span><br><span class="line">      path: &#x2F;metrics</span><br><span class="line">  headers:</span><br><span class="line">    X-Content-Type-Options: [nosniff]</span><br><span class="line">  http2:</span><br><span class="line">    disabled: false</span><br><span class="line">notifications:</span><br><span class="line">  events:</span><br><span class="line">    includereferences: true</span><br><span class="line">  endpoints:</span><br><span class="line">    - name: alistener</span><br><span class="line">      disabled: false</span><br><span class="line">      url: https:&#x2F;&#x2F;my.listener.com&#x2F;event</span><br><span class="line">      headers: &lt;http.Header&gt;</span><br><span class="line">      timeout: 1s</span><br><span class="line">      threshold: 10</span><br><span class="line">      backoff: 1s</span><br><span class="line">      ignoredmediatypes:</span><br><span class="line">        - application&#x2F;octet-stream</span><br><span class="line">      ignore:</span><br><span class="line">        mediatypes:</span><br><span class="line">           - application&#x2F;octet-stream</span><br><span class="line">        actions:</span><br><span class="line">           - pull</span><br><span class="line">redis:</span><br><span class="line">  addr: localhost:6379</span><br><span class="line">  password: asecret</span><br><span class="line">  db: 0</span><br><span class="line">  dialtimeout: 10ms</span><br><span class="line">  readtimeout: 10ms</span><br><span class="line">  writetimeout: 10ms</span><br><span class="line">  pool:</span><br><span class="line">    maxidle: 16</span><br><span class="line">    maxactive: 64</span><br><span class="line">    idletimeout: 300s</span><br><span class="line">health:</span><br><span class="line">  storagedriver:</span><br><span class="line">    enabled: true</span><br><span class="line">    interval: 10s</span><br><span class="line">    threshold: 3</span><br><span class="line">  file:</span><br><span class="line">    - file: &#x2F;path&#x2F;to&#x2F;checked&#x2F;file</span><br><span class="line">      interval: 10s</span><br><span class="line">  http:</span><br><span class="line">    - uri: http:&#x2F;&#x2F;server.to.check&#x2F;must&#x2F;return&#x2F;200</span><br><span class="line">      headers:</span><br><span class="line">        Authorization: [Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ&#x3D;&#x3D;]</span><br><span class="line">      statuscode: 200</span><br><span class="line">      timeout: 3s</span><br><span class="line">      interval: 10s</span><br><span class="line">      threshold: 3</span><br><span class="line">  tcp:</span><br><span class="line">    - addr: redis-server.domain.com:6379</span><br><span class="line">      timeout: 3s</span><br><span class="line">      interval: 10s</span><br><span class="line">      threshold: 3</span><br><span class="line">proxy:</span><br><span class="line">  remoteurl: https:&#x2F;&#x2F;registry-1.docker.io</span><br><span class="line">  username: [username]</span><br><span class="line">  password: [password]</span><br><span class="line">compatibility:</span><br><span class="line">  schema1:</span><br><span class="line">    signingkeyfile: &#x2F;etc&#x2F;registry&#x2F;key.json</span><br><span class="line">    enabled: true</span><br><span class="line">validation:</span><br><span class="line">  manifests:</span><br><span class="line">    urls:</span><br><span class="line">      allow:</span><br><span class="line">        - ^https?:&#x2F;&#x2F;([^&#x2F;]+\.)*example\.com&#x2F;</span><br><span class="line">      deny:</span><br><span class="line">        - ^https?:&#x2F;&#x2F;www\.example\.com&#x2F;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;/assets/js/APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;docker registry 配置注册表: &lt;a href=&quot;https://docs.docker.com/registry/con
      
    
    </summary>
    
      <category term="depth" scheme="http://yoursite.com/categories/depth/"/>
    
      <category term="docker" scheme="http://yoursite.com/categories/depth/docker/"/>
    
      <category term="docker registry" scheme="http://yoursite.com/categories/depth/docker/docker-registry/"/>
    
    
      <category term="docker-registry" scheme="http://yoursite.com/tags/docker-registry/"/>
    
  </entry>
  
  <entry>
    <title>docker redis中版本号查看</title>
    <link href="http://yoursite.com/2022/09/28/depth-docker-docker-redis-20220928-docker-redis%E7%89%88%E6%9C%AC%E6%9F%A5%E7%9C%8B/"/>
    <id>http://yoursite.com/2022/09/28/depth-docker-docker-redis-20220928-docker-redis版本查看/</id>
    <published>2022-09-27T16:00:00.000Z</published>
    <updated>2022-09-28T03:54:14.731Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/APlayer.min.js"> </script><h1 id="执行命令如下"><a href="#执行命令如下" class="headerlink" title="执行命令如下"></a>执行命令如下</h1><p>docker exec -it myredis redis-server -v</p><blockquote><p>myredis为容器名称</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;/assets/js/APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;h1 id=&quot;执行命令如下&quot;&gt;&lt;a href=&quot;#执行命令如下&quot; class=&quot;headerlink&quot; title=&quot;执行命令如下&quot;&gt;&lt;/a&gt;执行命令如下&lt;/h1&gt;&lt;p&gt;dock
      
    
    </summary>
    
      <category term="depth" scheme="http://yoursite.com/categories/depth/"/>
    
      <category term="docker" scheme="http://yoursite.com/categories/depth/docker/"/>
    
      <category term="docker redis" scheme="http://yoursite.com/categories/depth/docker/docker-redis/"/>
    
    
      <category term="docker-redis" scheme="http://yoursite.com/tags/docker-redis/"/>
    
  </entry>
  
  <entry>
    <title>docker redis容器创建方式</title>
    <link href="http://yoursite.com/2022/09/28/depth-docker-docker-redis-20220928-docker-redis%E5%AE%B9%E5%99%A8%E5%88%9B%E5%BB%BA%E6%96%B9%E5%BC%8F/"/>
    <id>http://yoursite.com/2022/09/28/depth-docker-docker-redis-20220928-docker-redis容器创建方式/</id>
    <published>2022-09-27T16:00:00.000Z</published>
    <updated>2022-09-28T04:03:44.918Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/APlayer.min.js"> </script><h1 id="docker-redis容器创建方式"><a href="#docker-redis容器创建方式" class="headerlink" title="docker redis容器创建方式"></a>docker redis容器创建方式</h1><ol><li>通过命令创建<br>docker run -d –name redis -p 6379:6379 redis:latest redis-server –appendonly yes –requirepass “你的密码”</li><li>通过数据卷挂载创建<br>docker run -d -p 6379:6379 –restart=always -v  /Users/diabolo/work/workspace/wk-docker/docker-redis/6379/redis.conf:/etc/redis/redis.conf  -v /Users/diabolo/work/workspace/wk-docker/docker-redis/6379/data:/data   –name myredis redis:latest redis-server /etc/redis/redis.conf</li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;/assets/js/APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;h1 id=&quot;docker-redis容器创建方式&quot;&gt;&lt;a href=&quot;#docker-redis容器创建方式&quot; class=&quot;headerlink&quot; title=&quot;docker
      
    
    </summary>
    
      <category term="depth" scheme="http://yoursite.com/categories/depth/"/>
    
      <category term="docker" scheme="http://yoursite.com/categories/depth/docker/"/>
    
      <category term="docker redis" scheme="http://yoursite.com/categories/depth/docker/docker-redis/"/>
    
    
      <category term="docker-redis" scheme="http://yoursite.com/tags/docker-redis/"/>
    
  </entry>
  
  <entry>
    <title>使用docker启动redis容器失败的原因</title>
    <link href="http://yoursite.com/2022/09/28/depth-docker-docker-redis-20220928-%E4%BD%BF%E7%94%A8docker%E5%90%AF%E5%8A%A8redis%E5%AE%B9%E5%99%A8%E5%A4%B1%E8%B4%A5%E7%9A%84%E5%8E%9F%E5%9B%A0/"/>
    <id>http://yoursite.com/2022/09/28/depth-docker-docker-redis-20220928-使用docker启动redis容器失败的原因/</id>
    <published>2022-09-27T16:00:00.000Z</published>
    <updated>2022-09-28T06:11:51.963Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/APlayer.min.js"> </script><hr><ul><li><strong>使用docker启动redis容器失败的原因：<a href="https://blog.csdn.net/m0_67402774/article/details/126553643" target="_blank" rel="noopener">https://blog.csdn.net/m0_67402774/article/details/126553643</a></strong></li></ul><hr><h1 id="使用docker启动redis容器失败的原因"><a href="#使用docker启动redis容器失败的原因" class="headerlink" title="使用docker启动redis容器失败的原因"></a>使用docker启动redis容器失败的原因</h1><h2 id="启动执行命令"><a href="#启动执行命令" class="headerlink" title="启动执行命令"></a>启动执行命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -p 6379:6379 --name redis -v &#x2F;root&#x2F;guli&#x2F;redis&#x2F;redis.conf:&#x2F;etc&#x2F;redis&#x2F;redis.conf -d redis redis-server &#x2F;etc&#x2F;redis&#x2F;redis.conf</span><br></pre></td></tr></table></figure><h2 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h2><p>发现一启动，就停止。<br>后来，去网上查了以后发现，是因为redis.conf文件中的daemonize为yes，意思是redis服务在后台运行，与docker中的-d参数冲突了。<br>只要把daemonize的参数值改为no就可以了，再次执行以上命令，容器启动成功。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;/assets/js/APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;使用docker启动redis容器失败的原因：&lt;a href=&quot;https://blog.csdn.net/m0_67402774/ar
      
    
    </summary>
    
      <category term="depth" scheme="http://yoursite.com/categories/depth/"/>
    
      <category term="docker" scheme="http://yoursite.com/categories/depth/docker/"/>
    
      <category term="docker redis" scheme="http://yoursite.com/categories/depth/docker/docker-redis/"/>
    
    
      <category term="docker-redis" scheme="http://yoursite.com/tags/docker-redis/"/>
    
  </entry>
  
  <entry>
    <title>解决创建redis容器没有conf配置文件</title>
    <link href="http://yoursite.com/2022/09/28/depth-docker-docker-redis-20220928-%E8%A7%A3%E5%86%B3%E5%88%9B%E5%BB%BAredis%E5%AE%B9%E5%99%A8%E6%B2%A1%E6%9C%89conf%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/"/>
    <id>http://yoursite.com/2022/09/28/depth-docker-docker-redis-20220928-解决创建redis容器没有conf配置文件/</id>
    <published>2022-09-27T16:00:00.000Z</published>
    <updated>2022-09-28T04:01:19.685Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/APlayer.min.js"> </script><hr><ul><li><strong>解决创建redis容器没有conf配置文件: <a href="https://longsheng.org/post/18174.html" target="_blank" rel="noopener">https://longsheng.org/post/18174.html</a></strong></li></ul><hr><h1 id="解决创建redis容器没有conf配置文件"><a href="#解决创建redis容器没有conf配置文件" class="headerlink" title="解决创建redis容器没有conf配置文件"></a>解决创建redis容器没有conf配置文件</h1><ol><li>如果通过以下命令创建redis容器，docker redis中会出现 redis.conf 文件夹<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 6379:6379 --restart&#x3D;always -v  &#x2F;Users&#x2F;diabolo&#x2F;work&#x2F;workspace&#x2F;wk-docker&#x2F;docker-redis&#x2F;6379&#x2F;redis.conf:&#x2F;etc&#x2F;redis&#x2F;redis.conf  -v &#x2F;Users&#x2F;diabolo&#x2F;work&#x2F;workspace&#x2F;wk-docker&#x2F;docker-redis&#x2F;6379&#x2F;data:&#x2F;data   --name myredis redis:latest redis-server &#x2F;etc&#x2F;redis&#x2F;redis.conf</span><br></pre></td></tr></table></figure></li><li>解决</li></ol><ul><li>首先应该在宿主机路径下创建 redis.conf 文件</li><li>然后再通过命令创建容器</li><li>否则容器会将 redis.conf 以文件夹的形式关联创建</li></ul><h1 id="参数解释"><a href="#参数解释" class="headerlink" title="参数解释"></a>参数解释</h1><ul><li>-v /usr/local/redis/redis.conf:/etc/redis.conf：映射配置文件</li><li>-v /root/usr/local/redis/data:/data：映射数据目录</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;/assets/js/APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;解决创建redis容器没有conf配置文件: &lt;a href=&quot;https://longsheng.org/post/18174.htm
      
    
    </summary>
    
      <category term="depth" scheme="http://yoursite.com/categories/depth/"/>
    
      <category term="docker" scheme="http://yoursite.com/categories/depth/docker/"/>
    
      <category term="docker redis" scheme="http://yoursite.com/categories/depth/docker/docker-redis/"/>
    
    
      <category term="docker-redis" scheme="http://yoursite.com/tags/docker-redis/"/>
    
  </entry>
  
  <entry>
    <title>docker run其他参数</title>
    <link href="http://yoursite.com/2022/09/28/depth-docker-notes-20220928-docker-run%E5%85%B6%E4%BB%96%E5%8F%82%E6%95%B0/"/>
    <id>http://yoursite.com/2022/09/28/depth-docker-notes-20220928-docker-run其他参数/</id>
    <published>2022-09-27T16:00:00.000Z</published>
    <updated>2022-09-28T03:36:54.806Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/APlayer.min.js"> </script><h1 id="docker-run其他参数"><a href="#docker-run其他参数" class="headerlink" title="docker run其他参数"></a>docker run其他参数</h1><h2 id="–privileged-true"><a href="#–privileged-true" class="headerlink" title="–privileged=true"></a>–privileged=true</h2><p>–privileged=true表示让启动的容器用户具备真正root权限</p><h2 id="–restart-always参数能够使我们在重启docker时，自动启动相关容器。"><a href="#–restart-always参数能够使我们在重启docker时，自动启动相关容器。" class="headerlink" title="–restart=always参数能够使我们在重启docker时，自动启动相关容器。"></a>–restart=always参数能够使我们在重启docker时，自动启动相关容器。</h2><p>Docker容器的重启策略如下：</p><ul><li>no，默认策略，在容器退出时不重启容器</li><li>on-failure，在容器非正常退出时（退出状态非0），才会重启容器</li><li>on-failure:3，在容器非正常退出时重启容器，最多重启3次</li><li>always，在容器退出时总是重启容器</li><li>unless-stopped，在容器退出时总是重启容器，但是不考虑在Docker守护进程启动时就已经停止了的容器<blockquote><p>如果创建的时候没有创建这个参数，则可以通过此命令添加： docker container update –restart=always 容器名字<br>还可以通过修改容器的配置文件来修尽管这个参数，首先停止容器，不然无法修改配置文件<br>配置默认文件路径为：/var/lib/docker/containers/容器ID<br>在该目录下找到一个文件 hostconfig.json ，找到该文件中关键字 RestartPolicy<br>修改前配置：“RestartPolicy”:{“Name”:“no”,“MaximumRetryCount”:0}<br>修改后配置：“RestartPolicy”:{“Name”:“always”,“MaximumRetryCount”:0}<br>最后启动容器。</p></blockquote></li></ul><h1 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">docker run -p 6001:6001 -d -it --name myhexo1 -v &#x2F;Users&#x2F;diabolo&#x2F;work&#x2F;workspace&#x2F;wk-github&#x2F;wk-github-zdy&#x2F;diabolo-hub-source-code&#x2F;:&#x2F;usr&#x2F;blog&#x2F;diabolo-hub&#x2F; myhexo:1.0</span><br><span class="line"></span><br><span class="line">docker run -d --name redis -p 6379:6379 redis:latest redis-server --appendonly yes --requirepass &quot;你的密码&quot;</span><br><span class="line"></span><br><span class="line">docker run -d -p 6379:6379 --restart&#x3D;always --privileged&#x3D;true  -v  &#x2F;var&#x2F;redis&#x2F;redis.conf:&#x2F;etc&#x2F;redis&#x2F;redis.conf  -v &#x2F;var&#x2F;redis&#x2F;data:&#x2F;data   --name myredis redis:6.0.8 redis-server  &#x2F;etc&#x2F;redis&#x2F;redis.conf</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;/assets/js/APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;h1 id=&quot;docker-run其他参数&quot;&gt;&lt;a href=&quot;#docker-run其他参数&quot; class=&quot;headerlink&quot; title=&quot;docker run其他参数
      
    
    </summary>
    
      <category term="depth" scheme="http://yoursite.com/categories/depth/"/>
    
      <category term="docker" scheme="http://yoursite.com/categories/depth/docker/"/>
    
      <category term="notes" scheme="http://yoursite.com/categories/depth/docker/notes/"/>
    
    
      <category term="docker" scheme="http://yoursite.com/tags/docker/"/>
    
  </entry>
  
  <entry>
    <title>depth-docker-compose-疑问-20220927-疑问点</title>
    <link href="http://yoursite.com/2022/09/27/depth-docker-compose-%E7%96%91%E9%97%AE-20220927-%E7%96%91%E9%97%AE%E7%82%B9/"/>
    <id>http://yoursite.com/2022/09/27/depth-docker-compose-疑问-20220927-疑问点/</id>
    <published>2022-09-27T06:52:11.883Z</published>
    <updated>2022-09-27T06:53:20.837Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/APlayer.min.js"> </script><p>一是，docker-compose和docker-engine可以分开装在不同的节点上么，就像docker-cli和docker-engine，若可以是不是需要一些配置；</p><p>二是，docker-compose.yml里面的service可不可以按照先后顺序启动，不如第一个service启动完成后，第二个service才启动</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;/assets/js/APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;p&gt;一是，docker-compose和docker-engine可以分开装在不同的节点上么，就像docker-cli和docker-engine，若可以是不是需要一些配置；&lt;/
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>docker-compose命令</title>
    <link href="http://yoursite.com/2022/09/27/depth-docker-compose-notes-20220927-docker-compose%E5%91%BD%E4%BB%A4/"/>
    <id>http://yoursite.com/2022/09/27/depth-docker-compose-notes-20220927-docker-compose命令/</id>
    <published>2022-09-26T16:00:00.000Z</published>
    <updated>2022-09-27T07:54:10.776Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/APlayer.min.js"> </script><hr><ul><li><strong>Docker Compose介绍及使用入门: <a href="https://www.jianshu.com/p/ee2fea4136f0" target="_blank" rel="noopener">https://www.jianshu.com/p/ee2fea4136f0</a></strong></li><li><strong>docker-compose简介及使用: <a href="https://www.cnblogs.com/xiaoyuxixi/p/12738325.html" target="_blank" rel="noopener">https://www.cnblogs.com/xiaoyuxixi/p/12738325.html</a></strong></li></ul><hr><h1 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h1><ul><li>docker-compose up，构建镜像并启动容器；</li><li>docker-compose down，停止容器，删除容器，移除自定义网络<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">E:\myapp&gt;docker-compose down</span><br><span class="line">Stopping myapp ... done</span><br><span class="line">Removing myapp ... done</span><br><span class="line">Removing network myapp_default</span><br></pre></td></tr></table></figure></li><li>docker-compose ls，查看所有运行的容器</li><li>docker-compose logs -f container_name，查看具体容器的日志，-f参数表示实时日志输出；</li><li>docker-compose port container_name container_port，查看和容器端口绑定的主机端口；</li><li>docker-compose stop container_name，停止指定的容器，如果不指定则停止所有的容器；</li><li>docker-compose start container_name，启动指定的容器，如果不指定则停止所有的容器；</li><li>docker-compose rm container_name，删除指定的已停止容器，如果不指定则删除所有已停止容器；</li><li>docker-compose build，构建或者重新构建服务的镜像，但不会创建和启动容器</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;/assets/js/APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Docker Compose介绍及使用入门: &lt;a href=&quot;https://www.jianshu.com/p/ee2fea4136
      
    
    </summary>
    
      <category term="depth" scheme="http://yoursite.com/categories/depth/"/>
    
      <category term="docker-compose" scheme="http://yoursite.com/categories/depth/docker-compose/"/>
    
      <category term="notes" scheme="http://yoursite.com/categories/depth/docker-compose/notes/"/>
    
    
      <category term="docker-compose" scheme="http://yoursite.com/tags/docker-compose/"/>
    
  </entry>
  
  <entry>
    <title>compose.yml案例2</title>
    <link href="http://yoursite.com/2022/09/27/depth-docker-compose-%E6%A1%88%E4%BE%8B-20220927-compose-yml%E6%A1%88%E4%BE%8B2/"/>
    <id>http://yoursite.com/2022/09/27/depth-docker-compose-案例-20220927-compose-yml案例2/</id>
    <published>2022-09-26T16:00:00.000Z</published>
    <updated>2022-09-27T07:48:00.412Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/APlayer.min.js"> </script><h1 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># 使用的yml版本</span><br><span class="line">version: &quot;3.9&quot;</span><br><span class="line">services:</span><br><span class="line">  # 服务名称，可以自定义</span><br><span class="line">  myapp:</span><br><span class="line">    # 容器名称，可以自定义</span><br><span class="line">    container_name: myapp</span><br><span class="line">    # 指定Dockerfile所在的目录</span><br><span class="line">    build: .</span><br><span class="line">    ports:</span><br><span class="line">      - &quot;8080:8080&quot;</span><br></pre></td></tr></table></figure><h1 id="执行"><a href="#执行" class="headerlink" title="执行"></a>执行</h1><p>然后执行docker-compose up即可，主要完成以下的两步操作：</p><ul><li>镜像构建docker build；</li><li>启动yml中的所有容器docker run；<h2 id="执行过程"><a href="#执行过程" class="headerlink" title="执行过程"></a>执行过程</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">E:\myapp&gt;docker-compose up</span><br><span class="line"># 创建了默认类型的自定义网络，即bridge类型网络，而非使用默认的docker0桥接网络，拥有自己的独立网段，可以通过docker network ls及docker network inspect查看具体的网络信息</span><br><span class="line">Creating network &quot;myapp_default&quot; with the default driver</span><br><span class="line">Building myapp</span><br><span class="line">[+] Building 0.5s (7&#x2F;7) FINISHED</span><br><span class="line"> &#x3D;&gt; [internal] load build definition from Dockerfile                                                                                 0.0s</span><br><span class="line"> &#x3D;&gt; &#x3D;&gt; transferring dockerfile: 153B                                                                                                 0.0s</span><br><span class="line"> &#x3D;&gt; [internal] load .dockerignore                                                                                                    0.0s</span><br><span class="line"> &#x3D;&gt; &#x3D;&gt; transferring context: 2B                                                                                                      0.0s</span><br><span class="line"> &#x3D;&gt; [internal] load metadata for docker.io&#x2F;library&#x2F;openjdk:8                                                                         0.0s</span><br><span class="line"> &#x3D;&gt; [internal] load build context                                                                                                    0.2s</span><br><span class="line"> &#x3D;&gt; &#x3D;&gt; transferring context: 17.62MB                                                                                                 0.1s</span><br><span class="line"> &#x3D;&gt; CACHED [1&#x2F;2] FROM docker.io&#x2F;library&#x2F;openjdk:8                                                                                    0.0s</span><br><span class="line"> &#x3D;&gt; [2&#x2F;2] ADD  target&#x2F;myapp-0.0.1-SNAPSHOT.jar &#x2F;demo.jar                                                                             0.1s</span><br><span class="line"> &#x3D;&gt; exporting to image                                                                                                               0.1s</span><br><span class="line"> &#x3D;&gt; &#x3D;&gt; exporting layers                                                                                                              0.1s</span><br><span class="line"> # 将镜像写入本地的镜像仓库，并以项目名称_服务名称命名镜像</span><br><span class="line"> &#x3D;&gt; &#x3D;&gt; writing image sha256:c387978706931f09fa16a737704f2c1047e8f632de192a25b0dc42dc151ac4c7                                         0.0s</span><br><span class="line"> &#x3D;&gt; &#x3D;&gt; naming to docker.io&#x2F;library&#x2F;myapp_myapp                                                                                       0.0s</span><br><span class="line"></span><br><span class="line">Use &#39;docker scan&#39; to run Snyk tests against images to find vulnerabilities and learn how to fix them</span><br><span class="line">WARNING: Image for service myapp was built because it did not already exist. To rebuild this image you must use &#96;docker-compose build&#96; or &#96;docker-compose up --build&#96;.</span><br><span class="line">Creating myapp ... done</span><br><span class="line">Attaching to myapp</span><br><span class="line">myapp    |</span><br><span class="line">myapp    |   .   ____          _            __ _ _</span><br><span class="line">myapp    |  &#x2F;\\ &#x2F; ___&#39;_ __ _ _(_)_ __  __ _ \ \ \ \</span><br><span class="line">myapp    | ( ( )\___ | &#39;_ | &#39;_| | &#39;_ \&#x2F; _&#96; | \ \ \ \</span><br><span class="line">myapp    |  \\&#x2F;  ___)| |_)| | | | | || (_| |  ) ) ) )</span><br><span class="line">myapp    |   &#39;  |____| .__|_| |_|_| |_\__, | &#x2F; &#x2F; &#x2F; &#x2F;</span><br><span class="line">myapp    |  &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;|_|&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;|___&#x2F;&#x3D;&#x2F;_&#x2F;_&#x2F;_&#x2F;</span><br><span class="line">myapp    |  :: Spring Boot ::                (v2.6.0)</span><br><span class="line">......</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;/assets/js/APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;h1 id=&quot;案例&quot;&gt;&lt;a href=&quot;#案例&quot; class=&quot;headerlink&quot; title=&quot;案例&quot;&gt;&lt;/a&gt;案例&lt;/h1&gt;&lt;figure class=&quot;highligh
      
    
    </summary>
    
      <category term="depth" scheme="http://yoursite.com/categories/depth/"/>
    
      <category term="docker-compose" scheme="http://yoursite.com/categories/depth/docker-compose/"/>
    
      <category term="yml案例" scheme="http://yoursite.com/categories/depth/docker-compose/yml%E6%A1%88%E4%BE%8B/"/>
    
    
      <category term="docker-compose" scheme="http://yoursite.com/tags/docker-compose/"/>
    
  </entry>
  
  <entry>
    <title>docker-compose.yml案例</title>
    <link href="http://yoursite.com/2022/09/27/depth-docker-compose-%E6%A1%88%E4%BE%8B-20220927-docker-compose%E6%A1%88%E4%BE%8B1/"/>
    <id>http://yoursite.com/2022/09/27/depth-docker-compose-案例-20220927-docker-compose案例1/</id>
    <published>2022-09-26T16:00:00.000Z</published>
    <updated>2022-09-27T06:53:20.844Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/APlayer.min.js"> </script><h1 id="docker-compose-源码实例"><a href="#docker-compose-源码实例" class="headerlink" title="docker-compose 源码实例"></a>docker-compose 源码实例</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">#docker-Compse的版本</span><br><span class="line">version: &#39;3&#39;</span><br><span class="line"></span><br><span class="line">#建立2个service 一个wordpress 一个 mysql</span><br><span class="line">services:</span><br><span class="line">  wordpress:</span><br><span class="line">    image: wordpress</span><br><span class="line">    #端口映射80 映射到8080端口</span><br><span class="line">    ports:</span><br><span class="line">      - 8080:80</span><br><span class="line">    #环境变量2个</span><br><span class="line">    environment:</span><br><span class="line">      WORDPRESS_DB_HOST: mysql</span><br><span class="line">      WORDPRESS_DB_PASSWORD: root</span><br><span class="line">    networks:</span><br><span class="line">      - my-bridge</span><br><span class="line"></span><br><span class="line">  mysql:</span><br><span class="line">    image: mysql</span><br><span class="line">    environment:</span><br><span class="line">      MYSQL_ROOT_PASSWORD: root</span><br><span class="line">      MYSQL_DATABASE: wordpress</span><br><span class="line">    volumes:</span><br><span class="line">      - mysql-data:&#x2F;var&#x2F;lib&#x2F;mysql</span><br><span class="line">    networks:</span><br><span class="line">      - my-bridge</span><br><span class="line">#建立一个volumes</span><br><span class="line">volumes:</span><br><span class="line">  mysql-data:</span><br><span class="line">#建立一个networks</span><br><span class="line">networks:</span><br><span class="line">  my-bridge:</span><br><span class="line">    driver: bridge</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;/assets/js/APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;h1 id=&quot;docker-compose-源码实例&quot;&gt;&lt;a href=&quot;#docker-compose-源码实例&quot; class=&quot;headerlink&quot; title=&quot;dock
      
    
    </summary>
    
      <category term="depth" scheme="http://yoursite.com/categories/depth/"/>
    
      <category term="docker-compose" scheme="http://yoursite.com/categories/depth/docker-compose/"/>
    
      <category term="yml案例" scheme="http://yoursite.com/categories/depth/docker-compose/yml%E6%A1%88%E4%BE%8B/"/>
    
    
      <category term="docker-compose" scheme="http://yoursite.com/tags/docker-compose/"/>
    
  </entry>
  
  <entry>
    <title>su、sudo、sudo su、sudo -i使用和区别</title>
    <link href="http://yoursite.com/2022/09/26/mac-20220926-su%E3%80%81sudo%E3%80%81sudo-su%E3%80%81sudo-i%E4%BD%BF%E7%94%A8%E5%92%8C%E5%8C%BA%E5%88%AB/"/>
    <id>http://yoursite.com/2022/09/26/mac-20220926-su、sudo、sudo-su、sudo-i使用和区别/</id>
    <published>2022-09-25T16:00:00.000Z</published>
    <updated>2022-09-26T06:44:08.456Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/APlayer.min.js"> </script><hr><ul><li>**su、sudo、sudo su、sudo -i使用和区别: <a href="https://zhuanlan.zhihu.com/p/250665300" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/250665300</a></li></ul><hr><h1 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h1><h2 id="密码"><a href="#密码" class="headerlink" title="密码"></a>密码</h2><ol><li>sudo 需要输入当前用户的密码</li><li>su 需要输入 root 用户的密码<h2 id="行为"><a href="#行为" class="headerlink" title="行为"></a>行为</h2></li><li>sudo 只允许使用提升的权限运行单个命令</li><li>su 启动一个新的shell，同时允许使用 root 权限运行尽可能多的命令，直到明确退出</li></ol><h2 id="su-介绍"><a href="#su-介绍" class="headerlink" title="su 介绍"></a>su 介绍</h2><p>su 用以切换不同的用户的身份</p><ol><li>su - diabolo, su - root<br>默认只是切换身份，并没有切换环境变量，环境变量依然是普通用户的。<br>切换用户身份时，用户的环境变量也切换成新用户的环境变量,所以”-“不能省略,不然有些操作无法执行。<br>su root 输入root密码后切换之root用户但是pwd目录不变<br>su - root 输入root密码后切换之root用户但是pwd目录/root</li></ol><h2 id="sudo-介绍"><a href="#sudo-介绍" class="headerlink" title="sudo 介绍"></a>sudo 介绍</h2><p>sudo 一般加的是命令sudo -i root与sudo - root、sudo -i ,sudo - ，sudo root效果相同</p><p>sudo -i 直接运行sudo命令加-i参数 要求执行该命令的用户必须在sudoers中才可以</p><p>sudo su 运行sudo命令给su命令提权，运行su命令。要求执行该命令的用户必须在sudoers中才可以</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;/assets/js/APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;**su、sudo、sudo su、sudo -i使用和区别: &lt;a href=&quot;https://zhuanlan.zhihu.com/p/250665
      
    
    </summary>
    
      <category term="mac" scheme="http://yoursite.com/categories/mac/"/>
    
    
      <category term="mac" scheme="http://yoursite.com/tags/mac/"/>
    
  </entry>
  
  <entry>
    <title>mac用户查看</title>
    <link href="http://yoursite.com/2022/09/26/mac-20220926-mac%E7%94%A8%E6%88%B7%E6%9F%A5%E7%9C%8B/"/>
    <id>http://yoursite.com/2022/09/26/mac-20220926-mac用户查看/</id>
    <published>2022-09-25T16:00:00.000Z</published>
    <updated>2022-09-26T06:34:24.314Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/APlayer.min.js"> </script><h1 id="当前用户的用户名"><a href="#当前用户的用户名" class="headerlink" title="当前用户的用户名"></a>当前用户的用户名</h1><p>whoami</p><h1 id="切换到root超级用户-—-需要输入密码"><a href="#切换到root超级用户-—-需要输入密码" class="headerlink" title="切换到root超级用户 —- 需要输入密码"></a>切换到root超级用户 —- 需要输入密码</h1><p>sudo -i</p><h1 id="su-要切换到的用户名-切换到某一个普通用户-注意-横杠两边都有一个空格"><a href="#su-要切换到的用户名-切换到某一个普通用户-注意-横杠两边都有一个空格" class="headerlink" title="su - 要切换到的用户名 // 切换到某一个普通用户 注意:横杠两边都有一个空格"></a>su - 要切换到的用户名 // 切换到某一个普通用户 注意:横杠两边都有一个空格</h1><p>su - diabolo，切换到 diabolo</p><h1 id="查看当前目录下所有文件的读写属性"><a href="#查看当前目录下所有文件的读写属性" class="headerlink" title="查看当前目录下所有文件的读写属性"></a>查看当前目录下所有文件的读写属性</h1><p>ls -l</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;/assets/js/APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;h1 id=&quot;当前用户的用户名&quot;&gt;&lt;a href=&quot;#当前用户的用户名&quot; class=&quot;headerlink&quot; title=&quot;当前用户的用户名&quot;&gt;&lt;/a&gt;当前用户的用户名&lt;/h1
      
    
    </summary>
    
      <category term="mac" scheme="http://yoursite.com/categories/mac/"/>
    
    
      <category term="mac" scheme="http://yoursite.com/tags/mac/"/>
    
  </entry>
  
  <entry>
    <title>修改文件所属用户</title>
    <link href="http://yoursite.com/2022/09/26/mac-20220926-%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E6%89%80%E5%B1%9E%E7%94%A8%E6%88%B7/"/>
    <id>http://yoursite.com/2022/09/26/mac-20220926-修改文件所属用户/</id>
    <published>2022-09-25T16:00:00.000Z</published>
    <updated>2022-09-26T06:34:24.329Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/APlayer.min.js"> </script><h1 id="由于-db-json-属于-root，一直执行失败，提示没权限"><a href="#由于-db-json-属于-root，一直执行失败，提示没权限" class="headerlink" title="由于 db.json 属于 root，一直执行失败，提示没权限"></a>由于 db.json 属于 root，一直执行失败，提示没权限</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">zhangdaiyindeMacBook-Pro:diabolo-hub-source-code root# ls -l</span><br><span class="line">total 10632</span><br><span class="line">drwxr-xr-x   16 diabolo  staff      512 Sep 26 14:24 .git</span><br><span class="line">-rw-r--r--    1 diabolo  staff       66 Jul 10 22:48 .gitattributes</span><br><span class="line">-rw-r--r--    1 diabolo  staff       74 Jul 10 22:48 .gitignore</span><br><span class="line">drwxr-xr-x   10 diabolo  staff      320 Sep 26 14:20 .idea</span><br><span class="line">-rw-r--r--    1 diabolo  staff      934 Sep 23 17:29 Dockerfile-bak</span><br><span class="line">-rw-r--r--    1 diabolo  staff     1628 Sep 26 14:09 Dockerfile-hexo</span><br><span class="line">-rw-r--r--    1 diabolo  staff     2145 Sep 26 11:41 Dockerfile-pm2</span><br><span class="line">-rw-r--r--    1 diabolo  staff      640 Jul 10 22:48 README.md</span><br><span class="line">-rw-r--r--    1 diabolo  staff     3288 Aug  3 14:13 _config.yml</span><br><span class="line">-rw-r--r--    1 root     staff  4013230 Sep 26 11:38 db.json</span><br><span class="line">-rw-r--r--    1 diabolo  staff      184 Sep 26 10:42 entrypoint.sh</span><br><span class="line">-rw-r--r--    1 diabolo  staff      262 Sep 20 15:24 hexo_run.js</span><br><span class="line">drwxr-xr-x  374 diabolo  staff    11968 Sep 16 14:29 node_modules</span><br><span class="line">-rw-r--r--    1 diabolo  staff   458034 Sep 16 14:29 package-lock.json</span><br><span class="line">-rw-r--r--    1 diabolo  staff      969 Sep 16 14:29 package.json</span><br><span class="line">drwxr-xr-x   28 root     staff      896 Sep 26 11:21 public</span><br><span class="line">drwxr-xr-x    5 diabolo  staff      160 Jul 10 22:48 scaffolds</span><br><span class="line">drwxr-xr-x   10 diabolo  staff      320 Aug  3 14:13 source</span><br><span class="line">drwxr-xr-x    5 diabolo  staff      160 Jul 10 22:48 themes</span><br><span class="line">drwxr-xr-x    4 diabolo  staff      128 Aug  3 14:13 uploadPhotos</span><br><span class="line">-rw-r--r--    1 diabolo  staff     1430 Sep  5 14:47 ????????????????????????docker-hexo.md</span><br></pre></td></tr></table></figure><h1 id="将-db-json-文件和-public-文件夹修改为-diabolo-用户所有"><a href="#将-db-json-文件和-public-文件夹修改为-diabolo-用户所有" class="headerlink" title="将 db.json 文件和 public 文件夹修改为 diabolo 用户所有"></a>将 db.json 文件和 public 文件夹修改为 diabolo 用户所有</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo chown diabolo:staff db.json</span><br><span class="line">sudo chown diabolo:staff public</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;/assets/js/APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;h1 id=&quot;由于-db-json-属于-root，一直执行失败，提示没权限&quot;&gt;&lt;a href=&quot;#由于-db-json-属于-root，一直执行失败，提示没权限&quot; class=
      
    
    </summary>
    
      <category term="mac" scheme="http://yoursite.com/categories/mac/"/>
    
    
      <category term="mac" scheme="http://yoursite.com/tags/mac/"/>
    
  </entry>
  
  <entry>
    <title>部署到github</title>
    <link href="http://yoursite.com/2022/09/26/hexo-%E7%AC%94%E8%AE%B0-hexo%E7%AC%94%E8%AE%B0-%E9%83%A8%E7%BD%B2%E5%88%B0github/"/>
    <id>http://yoursite.com/2022/09/26/hexo-笔记-hexo笔记-部署到github/</id>
    <published>2022-09-25T16:00:00.000Z</published>
    <updated>2022-09-26T09:55:06.729Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/APlayer.min.js"> </script><h1 id="deploy配置"><a href="#deploy配置" class="headerlink" title="deploy配置"></a>deploy配置</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: git@github.com:diabolo-hub&#x2F;xxx.github.io.git</span><br><span class="line">  branch: master</span><br><span class="line">  token: &#39;ghp_b...&#39;</span><br><span class="line">  message:</span><br><span class="line">  name: diabolo-hub</span><br><span class="line">  email: zhangdaiyin.cool@163.com</span><br></pre></td></tr></table></figure><h1 id="token配置"><a href="#token配置" class="headerlink" title="token配置"></a>token配置</h1><p><a href="https://blog.csdn.net/qq_43659183/article/details/126041835" target="_blank" rel="noopener">使用personal token将hexo本地文件推到GitHub</a></p><ol><li>个人设置中心</li><li>左侧底部的开发者中心</li><li>创建一个 personal token，权限勾选第一个 repo 即可，点击底部创建token</li></ol><h1 id="提示权限不足时，需要重新生成token并验证"><a href="#提示权限不足时，需要重新生成token并验证" class="headerlink" title="提示权限不足时，需要重新生成token并验证"></a>提示权限不足时，需要重新生成token并验证</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">➜  diabolo-hub-source-code git:(first_code) ✗ hexo deploy</span><br><span class="line">INFO  Deploying: git</span><br><span class="line">INFO  Clearing .deploy_git folder...</span><br><span class="line">INFO  Copying files from public folder...</span><br><span class="line">INFO  Copying files from extend dirs...</span><br><span class="line">On branch master</span><br><span class="line">nothing to commit, working tree clean</span><br><span class="line">ssh_dispatch_run_fatal: Connection to 20.205.243.166 port 22: Operation timed out</span><br><span class="line">fatal: Could not read from remote repository.</span><br><span class="line"></span><br><span class="line">Please make sure you have the correct access rights</span><br><span class="line">and the repository exists.</span><br><span class="line">FATAL Something&#39;s wrong. Maybe you can find the solution here: https:&#x2F;&#x2F;hexo.io&#x2F;docs&#x2F;troubleshooting.html</span><br><span class="line">Error</span><br><span class="line">    at ChildProcess.&lt;anonymous&gt; (&#x2F;Users&#x2F;diabolo&#x2F;work&#x2F;workspace&#x2F;wk-github&#x2F;wk-github-zdy&#x2F;diabolo-hub-source-code&#x2F;node_modules&#x2F;hexo-util&#x2F;lib&#x2F;spawn.js:37:17)</span><br><span class="line">    at ChildProcess.emit (node:events:513:28)</span><br><span class="line">    at maybeClose (node:internal&#x2F;child_process:1093:16)</span><br><span class="line">    at Process.ChildProcess._handle.onexit (node:internal&#x2F;child_process:302:5)</span><br></pre></td></tr></table></figure><blockquote><p>若token无误，还是提示权限不足，可能是发布目录中存在文件 或 文件夹 的操作权限不足，如 root 读写权限，普通用户构建发布</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;/assets/js/APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;h1 id=&quot;deploy配置&quot;&gt;&lt;a href=&quot;#deploy配置&quot; class=&quot;headerlink&quot; title=&quot;deploy配置&quot;&gt;&lt;/a&gt;deploy配置&lt;/h1
      
    
    </summary>
    
      <category term="hexo" scheme="http://yoursite.com/categories/hexo/"/>
    
      <category term="笔记" scheme="http://yoursite.com/categories/hexo/%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="hexo" scheme="http://yoursite.com/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>docker logs 日志查询</title>
    <link href="http://yoursite.com/2022/09/26/depth-docker-notes-20220926-docker-logs-%E6%97%A5%E5%BF%97%E6%9F%A5%E8%AF%A2/"/>
    <id>http://yoursite.com/2022/09/26/depth-docker-notes-20220926-docker-logs-日志查询/</id>
    <published>2022-09-25T16:00:00.000Z</published>
    <updated>2022-09-26T03:32:24.828Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/APlayer.min.js"> </script><hr><ul><li><strong>Docker日志查看命令:<a href="https://blog.csdn.net/begefefsef/article/details/126327588" target="_blank" rel="noopener">https://blog.csdn.net/begefefsef/article/details/126327588</a> </strong></li></ul><hr><h1 id="简单日志查询"><a href="#简单日志查询" class="headerlink" title="简单日志查询"></a>简单日志查询</h1><p>docker logs 容器id</p><h1 id="滚动日志查看"><a href="#滚动日志查看" class="headerlink" title="滚动日志查看"></a>滚动日志查看</h1><p>docker logs -f 容器ID</p><h1 id="自动更新，展示最后指定300行数的日志"><a href="#自动更新，展示最后指定300行数的日志" class="headerlink" title="自动更新，展示最后指定300行数的日志"></a>自动更新，展示最后指定300行数的日志</h1><p>docker logs -f –tail=300 容器id</p><h1 id="查看最近30分钟的日志"><a href="#查看最近30分钟的日志" class="headerlink" title="查看最近30分钟的日志"></a>查看最近30分钟的日志</h1><p>docker logs –since 30m 容器ID</p><h1 id="查看某时间之后的日志的最新500条日志："><a href="#查看某时间之后的日志的最新500条日志：" class="headerlink" title="查看某时间之后的日志的最新500条日志："></a>查看某时间之后的日志的最新500条日志：</h1><p>docker logs –since=”2021-11-30” –tail=500 容器ID</p><h1 id="查看某时间之后的日志："><a href="#查看某时间之后的日志：" class="headerlink" title="查看某时间之后的日志："></a>查看某时间之后的日志：</h1><p>docker logs -t –since=”2021-11-30T00:00:00” 容器ID</p><h1 id="查看某时间段日志："><a href="#查看某时间段日志：" class="headerlink" title="查看某时间段日志："></a>查看某时间段日志：</h1><p>docker logs -t –since=”2021-11-30T00:00:00” –until “2021-12-30T00:00:00” 容器ID</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;/assets/js/APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Docker日志查看命令:&lt;a href=&quot;https://blog.csdn.net/begefefsef/article/detai
      
    
    </summary>
    
      <category term="depth" scheme="http://yoursite.com/categories/depth/"/>
    
      <category term="docker" scheme="http://yoursite.com/categories/depth/docker/"/>
    
      <category term="notes" scheme="http://yoursite.com/categories/depth/docker/notes/"/>
    
    
      <category term="docker" scheme="http://yoursite.com/tags/docker/"/>
    
  </entry>
  
</feed>
